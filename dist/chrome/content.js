(()=>{let e;console.log("content loaded");const t=["video",'[data-testid="videoPlayer"]','[data-testid="videoComponent"]','[aria-label="Embedded video"]','[aria-label="Video"]'].join(", ");function o(){try{document.querySelectorAll('[data-testid="tweet"]:not([vb-blocked])').forEach((e=>{e.querySelector(t)&&(e.style.display="none",e.setAttribute("vb-blocked",!0))}))}catch(e){console.error("Error hiding tweets with videos:",e)}}function n(t){t&&!e?(e=new MutationObserver(o),e.observe(document.body,{childList:!0,subtree:!0})):!t&&e&&(e.disconnect(),e=null)}browser.runtime.onMessage.addListener(((e,t,r)=>{"checkTwitterPage"===e.action&&browser.storage.local.get(["isEnabled","homeOnly"]).then((e=>{var t,r;t=e.isEnabled,r=e.homeOnly,!t||r&&"/"!==document.location.pathname&&"/home"!==document.location.pathname?(function(){try{document.querySelectorAll('[data-testid="tweet"][vb-blocked]').forEach((e=>{e.style.display="",e.removeAttribute("vb-blocked")}))}catch(e){console.error("Error showing hidden tweets:",e)}}(),n(!1)):(o(),n(!0))}))}))})();